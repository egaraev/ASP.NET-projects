CREATE TABLE USER_GROUP
(
	ID INT IDENTITY(1,1) CONSTRAINT USER_GROUP_ID_NN NOT NULL CONSTRAINT USER_GROUP_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT USER_GROUP_NAME_NN NOT NULL
);

CREATE TABLE USERS
(
	ID INT IDENTITY(1,1) CONSTRAINT USERS_ID_NN NOT NULL CONSTRAINT USERS_ID_PK PRIMARY KEY(ID),
	LOGIN NVARCHAR(250) CONSTRAINT USER_GROUP_LOGIN_NN NOT NULL,
	PASSWORD NVARCHAR(250) CONSTRAINT USER_GROUP_PASSWORD_NN NOT NULL,
	USER_GROUP_ID INT CONSTRAINT USER_GROUP_ID_NN NOT NULL CONSTRAINT USER_GROUP_ID_HREF REFERENCES USER_GROUP(ID)
);

CREATE TABLE FEEDCATEGORY
(
	ID INT IDENTITY(1,1) CONSTRAINT FEEDCATEGORY_ID_NN NOT NULL CONSTRAINT FEEDCATEGORY_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT FEEDCATEGORY_NAME_NN NOT NULL
);

CREATE TABLE FEED
(
	ID INT IDENTITY(1,1) CONSTRAINT FEED_ID_NN NOT NULL CONSTRAINT FEED_ID_PK PRIMARY KEY(ID),
	CATEGORYID INT CONSTRAINT FEED_CATEGORYID_NN NOT NULL CONSTRAINT FEED_CATEGORYID_HREF REFERENCES FEEDCATEGORY(ID),
	NAME NVARCHAR(250) CONSTRAINT FEED_NAME_NN NOT NULL,
	DRYMATTER NVARCHAR(10) NOT NULL,
	CRUDEFIBER NVARCHAR(10) NOT NULL,
	PROTEIN NVARCHAR(10) NOT NULL,
	ENERGY NVARCHAR(10) NOT NULL,
	CA NVARCHAR(10) NOT NULL,
	P NVARCHAR(10) NOT NULL
);

CREATE TABLE ANIMALGROUP
(
	ID INT IDENTITY(1,1) CONSTRAINT ANIMALGROUP_ID_NN NOT NULL CONSTRAINT ANIMALGROUP_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT ANIMALGROUP_NAME_NN NOT NULL
);

CREATE TABLE ANIMALAGE
(
	ID INT IDENTITY(1,1) CONSTRAINT ANIMALAGE_ID_NN NOT NULL CONSTRAINT ANIMALAGE_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT ANIMALAGE_NAME_NN NOT NULL
);

CREATE TABLE ANIMALWEIGHT
(
	ID INT IDENTITY(1,1) CONSTRAINT ANIMALWEIGHT_ID_NN NOT NULL CONSTRAINT ANIMALWEIGHT_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT ANIMALWEIGHT_NAME_NN NOT NULL
);

CREATE TABLE TARGETCATEGORY
(
	ID INT IDENTITY(1,1) CONSTRAINT TARGETCATEGORY_ID_NN NOT NULL CONSTRAINT TARGETCATEGORY_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT TARGETCATEGORY_NAME_NN NOT NULL
);


CREATE TABLE ANIMALS 
(
	ID INT IDENTITY(1,1) CONSTRAINT ANIMALS_ID_NN NOT NULL CONSTRAINT ANIMALS_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT ANIMALS_NAME_NN NOT NULL,
	ANIMALGROUPID INT CONSTRAINT ANIMALS_ANIMALGROUPID_NN NOT NULL CONSTRAINT ANIMALS_ANIMALGROUPID_HREF REFERENCES ANIMALGROUP(ID),
	ANIMALWEIGHTID INT CONSTRAINT ANIMALS_ANIMALWEIGHTID_NN NOT NULL CONSTRAINT ANIMALS_ANIMALWEIGHTID_HREF REFERENCES ANIMALWEIGHT(ID),	
	ANIMALAGEID INT CONSTRAINT ANIMALS_ANIMALAGEID_NN NOT NULL CONSTRAINT ANIMALS_ANIMALAGEID_HREF REFERENCES ANIMALAGE(ID),
	PERCENTS NVARCHAR(10) NOT NULL
);

CREATE TABLE TARGETNAME
(
	ID INT IDENTITY(1,1) CONSTRAINT TARGETNAME_ID_NN NOT NULL CONSTRAINT TARGETNAME_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT TARGETNAME_NAME_NN NOT NULL
);

CREATE TABLE TARGETVALUE
(
	ID INT IDENTITY(1,1) CONSTRAINT TARGETVALUE_ID_NN NOT NULL CONSTRAINT TARGETVALUE_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT TARGETVALUE_NAME_NN NOT NULL
);

CREATE TABLE TARGETINCREASE
(
	ID INT IDENTITY(1,1) CONSTRAINT TARGETINCREASE_ID_NN NOT NULL CONSTRAINT TARGETINCREASE_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT TARGETINCREASE_NAME_NN NOT NULL,
	TARGETCATEGORYID INT CONSTRAINT  TARGETINCREASE_TARGETCATEGORYID_NN NOT NULL CONSTRAINT TARGETINCREASE_TARGETCATEGORYID_HREF REFERENCES TARGETCATEGORY(ID),
	TARGETNAMEID INT CONSTRAINT TARGETINCREASE_TARGETNAMEID_NN NOT NULL CONSTRAINT TARGETINCREASE_TARGETNAMEID_HREF REFERENCES TARGETNAME(ID),	
	TARGETVALUEID INT CONSTRAINT TARGETINCREASE_TARGETVALUEID_NN NOT NULL CONSTRAINT TARGETINCREASE_TARGETVALUEID_HREF REFERENCES TARGETVALUE(ID)
);



CREATE TABLE ENERGYCHANGE
(
	ID INT IDENTITY(1,1) CONSTRAINT ENERGYCHANGE_ID_NN NOT NULL CONSTRAINT ENERGYCHANGE_ID_PK PRIMARY KEY(ID),
	TARGETINCREASEID INT CONSTRAINT  ENERGYCHANGE_TARGETINCREASEID_NN NOT NULL CONSTRAINT ENERGYCHANGE_TARGETINCREASEID_HREF REFERENCES TARGETINCREASE(ID),
	ANIMALSID INT CONSTRAINT  ENERGYCHANGE_ANIMALSID_NN NOT NULL CONSTRAINT ENERGYCHANGE_ANIMALSID_HREF REFERENCES ANIMALS(ID),
	ENERGY INT CONSTRAINT ENERGYCHANGE_ENERGY_NN NOT NULL,
	DRYMATTER INT CONSTRAINT ENERGYCHANGE_DRYMATTER_NN NOT NULL,
	CRUDEFIBER INT CONSTRAINT ENERGYCHANGE_CRUDEFIBER_NN NOT NULL,
	PROTEIN INT CONSTRAINT ENERGYCHANGE_PROTEIN_NN NOT NULL,
	CA INT CONSTRAINT ENERGYCHANGE_CA_NN NOT NULL,
	P INT CONSTRAINT ENERGYCHANGE_P_NN NOT NULL,
	RATIOID INT CONSTRAINT  RATIOID_NN NOT NULL CONSTRAINT RATIOID_HREF REFERENCES FEEDRATIO(ID),
	TYPE BIT NOT NULL,
	WEIGHTPERCENT INT CONSTRAINT ANIMALFEED_WEIGHTPERCENT_NN NOT NULL,
	SEASON BIT NOT NULL
);

CREATE TABLE ANIMALFEED
(
	ID INT IDENTITY(1,1) CONSTRAINT ANIMALFEED_ID_NN NOT NULL CONSTRAINT ANIMALFEED_ID_PK PRIMARY KEY(ID),
	FEEDID INT CONSTRAINT FEED_FEEDID_NN NOT NULL CONSTRAINT FEED_FEEDID_HREF REFERENCES FEED(ID),
	ANIMALSID INT CONSTRAINT  ANIMALFEED_ANIMALSID_NN NOT NULL CONSTRAINT ANIMALFEED_ANIMALSID_HREF REFERENCES ANIMALS(ID),
	TARGETINCREASEID INT CONSTRAINT  ANIMALFEED_TARGETINCREASEID_NN NOT NULL CONSTRAINT ANIMALFEED_TARGETINCREASEID_HREF REFERENCES TARGETINCREASE(ID),
	TYPE BIT NOT NULL,
	RATIOID INT CONSTRAINT  RATIOID_NN NOT NULL CONSTRAINT RATIOID_HREF REFERENCES FEEDRATIO(ID),
	SEASON BIT NOT NULL
);

CREATE TABLE FEED_STOCK
(
	ID INT IDENTITY(1,1) CONSTRAINT FEED_STOCK_ID_NN NOT NULL CONSTRAINT FEED_STOCK_ID_PK PRIMARY KEY(ID),
	FEEDID INT CONSTRAINT FEED_FEEDID_NN NOT NULL CONSTRAINT FEEDSTOCK_FEEDID_HREF REFERENCES FEED(ID),
	WEIGHT INT CONSTRAINT FEEDSTOCK_WEIGHT_NN NOT NULL,
	USER_ID INT CONSTRAINT USER_ID_NN NOT NULL CONSTRAINT USER_ID_HREF REFERENCES USERS(ID)
);

CREATE TABLE FARM
(
	ID INT IDENTITY(1,1) CONSTRAINT FARM_ID_NN NOT NULL CONSTRAINT FARM_ID_PK PRIMARY KEY(ID),
	ANIMALSID INT CONSTRAINT ANIMALS_ANIMALSID_NN NOT NULL CONSTRAINT ANIMALS_ANIMALSID_HREF REFERENCES ANIMALS(ID),
	QUANTITY INT CONSTRAINT FARM_QUANTITY_NN NOT NULL,
	RATIONGROUP NVARCHAR(50) CONSTRAINT FARM_RATIONGROUP_NN NOT NULL,
	USER_ID INT CONSTRAINT USER_ID_NN NOT NULL CONSTRAINT USER_ID_HREF REFERENCES USERS(ID)	
	TARGETINCREASEID INT CONSTRAINT  FARM_TARGETINCREASEID_NN NOT NULL CONSTRAINT FARM_TARGETINCREASEID_HREF REFERENCES TARGETINCREASE(ID),
);


CREATE TABLE FEEDRATIO
(
	ID INT IDENTITY(1,1) CONSTRAINT FEEDRATIO_ID_NN NOT NULL CONSTRAINT FEEDRATIO_ID_PK PRIMARY KEY(ID),
	NAME NVARCHAR(250) CONSTRAINT FEEDRATIO_NAME_NN NOT NULL,
	COPERCENT INT CONSTRAINT FEEDRATIO_COPERCENT_NN NOT NULL,
	ROPERCENT INT CONSTRAINT FEEDRATIO_ROPERCENT_NN NOT NULL,
	SUPERCENT INT CONSTRAINT FEEDRATIO_SUPERCENT_NN NOT NULL
);


CREATE TABLE ANIMALFEEDTYPE
(
	ID INT IDENTITY(1,1) CONSTRAINT ANIMALFEEDTYPE_ID_NN NOT NULL CONSTRAINT ANIMALFEEDTYPE_ID_PK PRIMARY KEY(ID),
	FEEDID INT CONSTRAINT FEED_FEEDID_NN NOT NULL CONSTRAINT FEED_FEEDID_HREF REFERENCES FEED(ID),
	ANIMALGROUPID INT CONSTRAINT  ANIMALGROUP_ANIMALGROUPID_NN NOT NULL CONSTRAINT ANIMALGROUP_ANIMALGROUPID_HREF REFERENCES ANIMALGROUP(ID)
);
